{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { defineComponent, toRefs, shallowRef, ref, computed, onMounted, watch, createVNode, mergeProps } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { useMutationObserver } from \"./hooks/use-mutation-observer.js\";\nimport { useTheme } from \"./hooks/use-theme.js\";\nimport { canvasToGray, styleToString } from \"./utils/index.js\";\nimport { isArray } from \"../_utils/is.js\";\nvar _Watermark = defineComponent({\n  name: \"Watermark\",\n  props: {\n    content: {\n      type: [String, Array]\n    },\n    image: {\n      type: String\n    },\n    width: {\n      type: Number\n    },\n    height: {\n      type: Number\n    },\n    gap: {\n      type: Array,\n      default: () => [90, 90]\n    },\n    offset: {\n      type: Array\n    },\n    rotate: {\n      type: Number,\n      default: -22\n    },\n    font: {\n      type: Object\n    },\n    zIndex: {\n      type: Number,\n      default: 6\n    },\n    alpha: {\n      type: Number,\n      default: 1\n    },\n    antiTamper: {\n      type: Boolean,\n      default: true\n    },\n    grayscale: {\n      type: Boolean,\n      default: false\n    },\n    repeat: {\n      type: Boolean,\n      default: true\n    },\n    staggered: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(props, {\n    slots,\n    attrs\n  }) {\n    const {\n      width,\n      height,\n      image,\n      rotate,\n      alpha,\n      repeat,\n      grayscale\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"watermark\");\n    const ratio = window.devicePixelRatio || 1;\n    const containerRef = shallowRef();\n    const watermarkMap = ref(/* @__PURE__ */new Map());\n    const fontSize = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.fontSize) != null ? _b : 16;\n    });\n    const fontWeight = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.fontWeight) != null ? _b : \"normal\";\n    });\n    const fontStyle = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.fontStyle) != null ? _b : \"normal\";\n    });\n    const fontFamily = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.fontFamily) != null ? _b : \"sans-serif\";\n    });\n    const textAlign = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.textAlign) != null ? _b : \"center\";\n    });\n    const contents = computed(() => isArray(props.content) ? props.content : [props.content]);\n    const color = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.color) != null ? _b : theme.value === \"dark\" ? \"rgba(255, 255, 255, 0.15)\" : \"rgba(0, 0, 0, 0.15)\";\n    });\n    const gapX = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.gap) == null ? void 0 : _a[0]) != null ? _b : 90;\n    });\n    const gapY = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.gap) == null ? void 0 : _a[1]) != null ? _b : 90;\n    });\n    const gapXCenter = computed(() => gapX.value / 2);\n    const gapYCenter = computed(() => gapY.value / 2);\n    const offsetLeft = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.offset) == null ? void 0 : _a[0]) != null ? _b : gapXCenter.value;\n    });\n    const offsetTop = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.offset) == null ? void 0 : _a[1]) != null ? _b : gapYCenter.value;\n    });\n    const markStyle = computed(() => {\n      var _a;\n      const left = offsetLeft.value - gapXCenter.value;\n      const top = offsetTop.value - gapYCenter.value;\n      return {\n        position: \"absolute\",\n        left: left > 0 ? `${left}px` : 0,\n        top: top > 0 ? `${top}px` : 0,\n        width: left > 0 ? `calc(100% - ${left}px)` : \"100%\",\n        height: top > 0 ? `calc(100% - ${top}px)` : \"100%\",\n        pointerEvents: \"none\",\n        backgroundRepeat: props.repeat ? \"repeat\" : \"no-repeat\",\n        backgroundPosition: `${left > 0 ? 0 : left}px ${top > 0 ? 0 : top}px`,\n        zIndex: (_a = props.zIndex) != null ? _a : 6\n      };\n    });\n    const isStaggered = computed(() => props.repeat && props.staggered);\n    const appendWatermark = (base64, width2) => {\n      var _a;\n      if (containerRef.value) {\n        const watermarkEle = watermarkMap.value.get(containerRef.value);\n        if (watermarkEle) {\n          if (containerRef.value.contains(watermarkEle)) {\n            containerRef.value.removeChild(watermarkEle);\n          }\n          watermarkMap.value.delete(containerRef.value);\n        }\n        const newWatermarkEle = document.createElement(\"div\");\n        newWatermarkEle.setAttribute(\"style\", styleToString({\n          ...markStyle.value,\n          backgroundImage: `url('${base64}')`,\n          backgroundSize: `${width2}px`\n        }));\n        (_a = containerRef.value) == null ? void 0 : _a.append(newWatermarkEle);\n        watermarkMap.value.set(containerRef.value, newWatermarkEle);\n      }\n    };\n    const getMarkSize = ctx => {\n      var _a, _b;\n      let defaultWidth = 120;\n      let defaultHeight = 28;\n      if (!image.value && ctx.measureText) {\n        ctx.font = `${fontSize.value}px ${fontFamily.value}`;\n        const widths = contents.value.map(item => ctx.measureText(item).width);\n        defaultWidth = Math.ceil(Math.max(...widths));\n        defaultHeight = fontSize.value * contents.value.length + (contents.value.length - 1) * 3;\n      }\n      return [(_a = width.value) != null ? _a : defaultWidth, (_b = height.value) != null ? _b : defaultHeight];\n    };\n    const renderWatermark = () => {\n      var _a;\n      const canvas = document.createElement(\"canvas\");\n      const ctx = canvas.getContext(\"2d\");\n      if (!ctx) return;\n      const [markWidth, markheight] = getMarkSize(ctx);\n      const realMarkWidth = markWidth * ratio;\n      const realMarkHeight = markheight * ratio;\n      const canvasWidth = (gapX.value + markWidth) * ratio;\n      const canvasHeight = (gapY.value + markheight) * ratio;\n      const drawX = gapX.value / 2 * ratio;\n      const drawY = gapY.value / 2 * ratio;\n      const rotateX = canvasWidth / 2;\n      const rotateY = canvasHeight / 2;\n      const baseSize = isStaggered.value ? 2 : 1;\n      const fillWidth = (gapX.value + markWidth) * baseSize;\n      canvas.width = canvasWidth * baseSize;\n      canvas.height = canvasHeight * baseSize;\n      ctx.globalAlpha = alpha.value;\n      ctx.save();\n      ctx.translate(rotateX, rotateY);\n      ctx.rotate(Math.PI / 180 * rotate.value);\n      ctx.translate(-rotateX, -rotateY);\n      const drawImage = () => {\n        ctx.restore();\n        if (isStaggered.value) {\n          ctx.drawImage(canvas, 0, 0, canvasWidth, canvasHeight, canvasWidth, canvasHeight, canvasWidth, canvasHeight);\n        }\n        grayscale.value && canvasToGray(canvas);\n        appendWatermark(canvas.toDataURL(), fillWidth);\n      };\n      if (image.value) {\n        const img = new Image();\n        img.onload = () => {\n          ctx.drawImage(img, drawX, drawY, realMarkWidth, realMarkHeight);\n          drawImage();\n        };\n        img.crossOrigin = \"anonymous\";\n        img.referrerPolicy = \"no-referrer\";\n        img.src = image.value;\n      } else {\n        const mergedFontSize = Number(fontSize.value) * ratio;\n        ctx.font = `${fontStyle.value} normal ${fontWeight.value} ${mergedFontSize}px/${markheight}px ${fontFamily.value}`;\n        ctx.fillStyle = color.value;\n        ctx.textAlign = textAlign.value;\n        ctx.textBaseline = \"top\";\n        ctx.translate(realMarkWidth / 2, 0);\n        (_a = contents.value) == null ? void 0 : _a.forEach((item, index) => {\n          ctx.fillText(item != null ? item : \"\", drawX, drawY + index * (mergedFontSize + 3 * ratio));\n        });\n        drawImage();\n      }\n    };\n    const isWatermarkEle = ele => Array.from(watermarkMap.value.values()).includes(ele);\n    const handleMutations = mutations => {\n      if (!props.antiTamper) return;\n      for (const mutation of mutations) {\n        const isRemoved = Array.from(mutation.removedNodes).some(node => isWatermarkEle(node));\n        const isModified = mutation.type === \"attributes\" && isWatermarkEle(mutation.target);\n        if (isRemoved || isModified) {\n          renderWatermark();\n          break;\n        }\n      }\n    };\n    const {\n      theme\n    } = useTheme(renderWatermark);\n    onMounted(() => {\n      renderWatermark();\n      useMutationObserver(containerRef.value, handleMutations, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    });\n    watch(props, renderWatermark, {\n      deep: true,\n      flush: \"post\"\n    });\n    return () => {\n      var _a;\n      return createVNode(\"div\", mergeProps({\n        \"ref\": containerRef,\n        \"class\": prefixCls,\n        \"style\": {\n          position: \"relative\",\n          overflow: \"hidden\"\n        }\n      }, attrs), [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport { _Watermark as default };","map":{"version":3,"names":["defineComponent","toRefs","shallowRef","ref","computed","onMounted","watch","createVNode","mergeProps","getPrefixCls","useMutationObserver","useTheme","canvasToGray","styleToString","isArray","_Watermark","name","props","content","type","String","Array","image","width","Number","height","gap","default","offset","rotate","font","Object","zIndex","alpha","antiTamper","Boolean","grayscale","repeat","staggered","setup","slots","attrs","prefixCls","ratio","window","devicePixelRatio","containerRef","watermarkMap","Map","fontSize","_a","_b","fontWeight","fontStyle","fontFamily","textAlign","contents","color","theme","value","gapX","gapY","gapXCenter","gapYCenter","offsetLeft","offsetTop","markStyle","left","top","position","pointerEvents","backgroundRepeat","backgroundPosition","isStaggered","appendWatermark","base64","width2","watermarkEle","get","contains","removeChild","delete","newWatermarkEle","document","createElement","setAttribute","backgroundImage","backgroundSize","append","set","getMarkSize","ctx","defaultWidth","defaultHeight","measureText","widths","map","item","Math","ceil","max","length","renderWatermark","canvas","getContext","markWidth","markheight","realMarkWidth","realMarkHeight","canvasWidth","canvasHeight","drawX","drawY","rotateX","rotateY","baseSize","fillWidth","globalAlpha","save","translate","PI","drawImage","restore","toDataURL","img","Image","onload","crossOrigin","referrerPolicy","src","mergedFontSize","fillStyle","textBaseline","forEach","index","fillText","isWatermarkEle","ele","from","values","includes","handleMutations","mutations","mutation","isRemoved","removedNodes","some","node","isModified","target","attributes","childList","characterData","subtree","deep","flush","overflow","call"],"sources":["P:/WebStorm/judgex_front/node_modules/@arco-design/web-vue/es/watermark/watermark.js"],"sourcesContent":["import { defineComponent, toRefs, shallowRef, ref, computed, onMounted, watch, createVNode, mergeProps } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { useMutationObserver } from \"./hooks/use-mutation-observer.js\";\nimport { useTheme } from \"./hooks/use-theme.js\";\nimport { canvasToGray, styleToString } from \"./utils/index.js\";\nimport { isArray } from \"../_utils/is.js\";\nvar _Watermark = defineComponent({\n  name: \"Watermark\",\n  props: {\n    content: {\n      type: [String, Array]\n    },\n    image: {\n      type: String\n    },\n    width: {\n      type: Number\n    },\n    height: {\n      type: Number\n    },\n    gap: {\n      type: Array,\n      default: () => [90, 90]\n    },\n    offset: {\n      type: Array\n    },\n    rotate: {\n      type: Number,\n      default: -22\n    },\n    font: {\n      type: Object\n    },\n    zIndex: {\n      type: Number,\n      default: 6\n    },\n    alpha: {\n      type: Number,\n      default: 1\n    },\n    antiTamper: {\n      type: Boolean,\n      default: true\n    },\n    grayscale: {\n      type: Boolean,\n      default: false\n    },\n    repeat: {\n      type: Boolean,\n      default: true\n    },\n    staggered: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(props, {\n    slots,\n    attrs\n  }) {\n    const {\n      width,\n      height,\n      image,\n      rotate,\n      alpha,\n      repeat,\n      grayscale\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"watermark\");\n    const ratio = window.devicePixelRatio || 1;\n    const containerRef = shallowRef();\n    const watermarkMap = ref(/* @__PURE__ */ new Map());\n    const fontSize = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.fontSize) != null ? _b : 16;\n    });\n    const fontWeight = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.fontWeight) != null ? _b : \"normal\";\n    });\n    const fontStyle = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.fontStyle) != null ? _b : \"normal\";\n    });\n    const fontFamily = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.fontFamily) != null ? _b : \"sans-serif\";\n    });\n    const textAlign = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.textAlign) != null ? _b : \"center\";\n    });\n    const contents = computed(() => isArray(props.content) ? props.content : [props.content]);\n    const color = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.font) == null ? void 0 : _a.color) != null ? _b : theme.value === \"dark\" ? \"rgba(255, 255, 255, 0.15)\" : \"rgba(0, 0, 0, 0.15)\";\n    });\n    const gapX = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.gap) == null ? void 0 : _a[0]) != null ? _b : 90;\n    });\n    const gapY = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.gap) == null ? void 0 : _a[1]) != null ? _b : 90;\n    });\n    const gapXCenter = computed(() => gapX.value / 2);\n    const gapYCenter = computed(() => gapY.value / 2);\n    const offsetLeft = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.offset) == null ? void 0 : _a[0]) != null ? _b : gapXCenter.value;\n    });\n    const offsetTop = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.offset) == null ? void 0 : _a[1]) != null ? _b : gapYCenter.value;\n    });\n    const markStyle = computed(() => {\n      var _a;\n      const left = offsetLeft.value - gapXCenter.value;\n      const top = offsetTop.value - gapYCenter.value;\n      return {\n        position: \"absolute\",\n        left: left > 0 ? `${left}px` : 0,\n        top: top > 0 ? `${top}px` : 0,\n        width: left > 0 ? `calc(100% - ${left}px)` : \"100%\",\n        height: top > 0 ? `calc(100% - ${top}px)` : \"100%\",\n        pointerEvents: \"none\",\n        backgroundRepeat: props.repeat ? \"repeat\" : \"no-repeat\",\n        backgroundPosition: `${left > 0 ? 0 : left}px ${top > 0 ? 0 : top}px`,\n        zIndex: (_a = props.zIndex) != null ? _a : 6\n      };\n    });\n    const isStaggered = computed(() => props.repeat && props.staggered);\n    const appendWatermark = (base64, width2) => {\n      var _a;\n      if (containerRef.value) {\n        const watermarkEle = watermarkMap.value.get(containerRef.value);\n        if (watermarkEle) {\n          if (containerRef.value.contains(watermarkEle)) {\n            containerRef.value.removeChild(watermarkEle);\n          }\n          watermarkMap.value.delete(containerRef.value);\n        }\n        const newWatermarkEle = document.createElement(\"div\");\n        newWatermarkEle.setAttribute(\"style\", styleToString({\n          ...markStyle.value,\n          backgroundImage: `url('${base64}')`,\n          backgroundSize: `${width2}px`\n        }));\n        (_a = containerRef.value) == null ? void 0 : _a.append(newWatermarkEle);\n        watermarkMap.value.set(containerRef.value, newWatermarkEle);\n      }\n    };\n    const getMarkSize = (ctx) => {\n      var _a, _b;\n      let defaultWidth = 120;\n      let defaultHeight = 28;\n      if (!image.value && ctx.measureText) {\n        ctx.font = `${fontSize.value}px ${fontFamily.value}`;\n        const widths = contents.value.map((item) => ctx.measureText(item).width);\n        defaultWidth = Math.ceil(Math.max(...widths));\n        defaultHeight = fontSize.value * contents.value.length + (contents.value.length - 1) * 3;\n      }\n      return [(_a = width.value) != null ? _a : defaultWidth, (_b = height.value) != null ? _b : defaultHeight];\n    };\n    const renderWatermark = () => {\n      var _a;\n      const canvas = document.createElement(\"canvas\");\n      const ctx = canvas.getContext(\"2d\");\n      if (!ctx)\n        return;\n      const [markWidth, markheight] = getMarkSize(ctx);\n      const realMarkWidth = markWidth * ratio;\n      const realMarkHeight = markheight * ratio;\n      const canvasWidth = (gapX.value + markWidth) * ratio;\n      const canvasHeight = (gapY.value + markheight) * ratio;\n      const drawX = gapX.value / 2 * ratio;\n      const drawY = gapY.value / 2 * ratio;\n      const rotateX = canvasWidth / 2;\n      const rotateY = canvasHeight / 2;\n      const baseSize = isStaggered.value ? 2 : 1;\n      const fillWidth = (gapX.value + markWidth) * baseSize;\n      canvas.width = canvasWidth * baseSize;\n      canvas.height = canvasHeight * baseSize;\n      ctx.globalAlpha = alpha.value;\n      ctx.save();\n      ctx.translate(rotateX, rotateY);\n      ctx.rotate(Math.PI / 180 * rotate.value);\n      ctx.translate(-rotateX, -rotateY);\n      const drawImage = () => {\n        ctx.restore();\n        if (isStaggered.value) {\n          ctx.drawImage(canvas, 0, 0, canvasWidth, canvasHeight, canvasWidth, canvasHeight, canvasWidth, canvasHeight);\n        }\n        grayscale.value && canvasToGray(canvas);\n        appendWatermark(canvas.toDataURL(), fillWidth);\n      };\n      if (image.value) {\n        const img = new Image();\n        img.onload = () => {\n          ctx.drawImage(img, drawX, drawY, realMarkWidth, realMarkHeight);\n          drawImage();\n        };\n        img.crossOrigin = \"anonymous\";\n        img.referrerPolicy = \"no-referrer\";\n        img.src = image.value;\n      } else {\n        const mergedFontSize = Number(fontSize.value) * ratio;\n        ctx.font = `${fontStyle.value} normal ${fontWeight.value} ${mergedFontSize}px/${markheight}px ${fontFamily.value}`;\n        ctx.fillStyle = color.value;\n        ctx.textAlign = textAlign.value;\n        ctx.textBaseline = \"top\";\n        ctx.translate(realMarkWidth / 2, 0);\n        (_a = contents.value) == null ? void 0 : _a.forEach((item, index) => {\n          ctx.fillText(item != null ? item : \"\", drawX, drawY + index * (mergedFontSize + 3 * ratio));\n        });\n        drawImage();\n      }\n    };\n    const isWatermarkEle = (ele) => Array.from(watermarkMap.value.values()).includes(ele);\n    const handleMutations = (mutations) => {\n      if (!props.antiTamper)\n        return;\n      for (const mutation of mutations) {\n        const isRemoved = Array.from(mutation.removedNodes).some((node) => isWatermarkEle(node));\n        const isModified = mutation.type === \"attributes\" && isWatermarkEle(mutation.target);\n        if (isRemoved || isModified) {\n          renderWatermark();\n          break;\n        }\n      }\n    };\n    const {\n      theme\n    } = useTheme(renderWatermark);\n    onMounted(() => {\n      renderWatermark();\n      useMutationObserver(containerRef.value, handleMutations, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    });\n    watch(props, renderWatermark, {\n      deep: true,\n      flush: \"post\"\n    });\n    return () => {\n      var _a;\n      return createVNode(\"div\", mergeProps({\n        \"ref\": containerRef,\n        \"class\": prefixCls,\n        \"style\": {\n          position: \"relative\",\n          overflow: \"hidden\"\n        }\n      }, attrs), [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport { _Watermark as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}