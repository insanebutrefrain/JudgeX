{"ast":null,"code":"var _LanguageService;\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LanguagesRegistry } from './languagesRegistry.js';\nimport { firstOrDefault } from '../../../base/common/arrays.js';\nimport { TokenizationRegistry } from '../languages.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { observableFromEvent } from '../../../base/common/observable.js';\nexport class LanguageService extends Disposable {\n  constructor(warnOnOverwrite = false) {\n    super();\n    this._onDidRequestBasicLanguageFeatures = this._register(new Emitter());\n    this.onDidRequestBasicLanguageFeatures = this._onDidRequestBasicLanguageFeatures.event;\n    this._onDidRequestRichLanguageFeatures = this._register(new Emitter());\n    this.onDidRequestRichLanguageFeatures = this._onDidRequestRichLanguageFeatures.event;\n    this._onDidChange = this._register(new Emitter({\n      leakWarningThreshold: 200 /* https://github.com/microsoft/vscode/issues/119968 */\n    }));\n    this.onDidChange = this._onDidChange.event;\n    this._requestedBasicLanguages = new Set();\n    this._requestedRichLanguages = new Set();\n    LanguageService.instanceCount++;\n    this._registry = this._register(new LanguagesRegistry(true, warnOnOverwrite));\n    this.languageIdCodec = this._registry.languageIdCodec;\n    this._register(this._registry.onDidChange(() => this._onDidChange.fire()));\n  }\n  dispose() {\n    LanguageService.instanceCount--;\n    super.dispose();\n  }\n  isRegisteredLanguageId(languageId) {\n    return this._registry.isRegisteredLanguageId(languageId);\n  }\n  getLanguageIdByLanguageName(languageName) {\n    return this._registry.getLanguageIdByLanguageName(languageName);\n  }\n  getLanguageIdByMimeType(mimeType) {\n    return this._registry.getLanguageIdByMimeType(mimeType);\n  }\n  guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n    const languageIds = this._registry.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n    return firstOrDefault(languageIds, null);\n  }\n  createById(languageId) {\n    return new LanguageSelection(this.onDidChange, () => {\n      return this._createAndGetLanguageIdentifier(languageId);\n    });\n  }\n  createByFilepathOrFirstLine(resource, firstLine) {\n    return new LanguageSelection(this.onDidChange, () => {\n      const languageId = this.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n      return this._createAndGetLanguageIdentifier(languageId);\n    });\n  }\n  _createAndGetLanguageIdentifier(languageId) {\n    if (!languageId || !this.isRegisteredLanguageId(languageId)) {\n      // Fall back to plain text if language is unknown\n      languageId = PLAINTEXT_LANGUAGE_ID;\n    }\n    return languageId;\n  }\n  requestBasicLanguageFeatures(languageId) {\n    if (!this._requestedBasicLanguages.has(languageId)) {\n      this._requestedBasicLanguages.add(languageId);\n      this._onDidRequestBasicLanguageFeatures.fire(languageId);\n    }\n  }\n  requestRichLanguageFeatures(languageId) {\n    if (!this._requestedRichLanguages.has(languageId)) {\n      this._requestedRichLanguages.add(languageId);\n      // Ensure basic features are requested\n      this.requestBasicLanguageFeatures(languageId);\n      // Ensure tokenizers are created\n      TokenizationRegistry.getOrCreate(languageId);\n      this._onDidRequestRichLanguageFeatures.fire(languageId);\n    }\n  }\n}\n_LanguageService = LanguageService;\n_LanguageService.instanceCount = 0;\nclass LanguageSelection {\n  constructor(onDidChangeLanguages, selector) {\n    this._value = observableFromEvent(this, onDidChangeLanguages, () => selector());\n    this.onDidChange = Event.fromObservable(this._value);\n  }\n  get languageId() {\n    return this._value.get();\n  }\n}","map":{"version":3,"names":["Emitter","Event","Disposable","LanguagesRegistry","firstOrDefault","TokenizationRegistry","PLAINTEXT_LANGUAGE_ID","observableFromEvent","LanguageService","constructor","warnOnOverwrite","_onDidRequestBasicLanguageFeatures","_register","onDidRequestBasicLanguageFeatures","event","_onDidRequestRichLanguageFeatures","onDidRequestRichLanguageFeatures","_onDidChange","leakWarningThreshold","onDidChange","_requestedBasicLanguages","Set","_requestedRichLanguages","instanceCount","_registry","languageIdCodec","fire","dispose","isRegisteredLanguageId","languageId","getLanguageIdByLanguageName","languageName","getLanguageIdByMimeType","mimeType","guessLanguageIdByFilepathOrFirstLine","resource","firstLine","languageIds","createById","LanguageSelection","_createAndGetLanguageIdentifier","createByFilepathOrFirstLine","requestBasicLanguageFeatures","has","add","requestRichLanguageFeatures","getOrCreate","_LanguageService","onDidChangeLanguages","selector","_value","fromObservable","get"],"sources":["P:/IDEA/JudgeX/JudgeX_front/node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LanguagesRegistry } from './languagesRegistry.js';\nimport { firstOrDefault } from '../../../base/common/arrays.js';\nimport { TokenizationRegistry } from '../languages.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { observableFromEvent } from '../../../base/common/observable.js';\nexport class LanguageService extends Disposable {\n    static { this.instanceCount = 0; }\n    constructor(warnOnOverwrite = false) {\n        super();\n        this._onDidRequestBasicLanguageFeatures = this._register(new Emitter());\n        this.onDidRequestBasicLanguageFeatures = this._onDidRequestBasicLanguageFeatures.event;\n        this._onDidRequestRichLanguageFeatures = this._register(new Emitter());\n        this.onDidRequestRichLanguageFeatures = this._onDidRequestRichLanguageFeatures.event;\n        this._onDidChange = this._register(new Emitter({ leakWarningThreshold: 200 /* https://github.com/microsoft/vscode/issues/119968 */ }));\n        this.onDidChange = this._onDidChange.event;\n        this._requestedBasicLanguages = new Set();\n        this._requestedRichLanguages = new Set();\n        LanguageService.instanceCount++;\n        this._registry = this._register(new LanguagesRegistry(true, warnOnOverwrite));\n        this.languageIdCodec = this._registry.languageIdCodec;\n        this._register(this._registry.onDidChange(() => this._onDidChange.fire()));\n    }\n    dispose() {\n        LanguageService.instanceCount--;\n        super.dispose();\n    }\n    isRegisteredLanguageId(languageId) {\n        return this._registry.isRegisteredLanguageId(languageId);\n    }\n    getLanguageIdByLanguageName(languageName) {\n        return this._registry.getLanguageIdByLanguageName(languageName);\n    }\n    getLanguageIdByMimeType(mimeType) {\n        return this._registry.getLanguageIdByMimeType(mimeType);\n    }\n    guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n        const languageIds = this._registry.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n        return firstOrDefault(languageIds, null);\n    }\n    createById(languageId) {\n        return new LanguageSelection(this.onDidChange, () => {\n            return this._createAndGetLanguageIdentifier(languageId);\n        });\n    }\n    createByFilepathOrFirstLine(resource, firstLine) {\n        return new LanguageSelection(this.onDidChange, () => {\n            const languageId = this.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n            return this._createAndGetLanguageIdentifier(languageId);\n        });\n    }\n    _createAndGetLanguageIdentifier(languageId) {\n        if (!languageId || !this.isRegisteredLanguageId(languageId)) {\n            // Fall back to plain text if language is unknown\n            languageId = PLAINTEXT_LANGUAGE_ID;\n        }\n        return languageId;\n    }\n    requestBasicLanguageFeatures(languageId) {\n        if (!this._requestedBasicLanguages.has(languageId)) {\n            this._requestedBasicLanguages.add(languageId);\n            this._onDidRequestBasicLanguageFeatures.fire(languageId);\n        }\n    }\n    requestRichLanguageFeatures(languageId) {\n        if (!this._requestedRichLanguages.has(languageId)) {\n            this._requestedRichLanguages.add(languageId);\n            // Ensure basic features are requested\n            this.requestBasicLanguageFeatures(languageId);\n            // Ensure tokenizers are created\n            TokenizationRegistry.getOrCreate(languageId);\n            this._onDidRequestRichLanguageFeatures.fire(languageId);\n        }\n    }\n}\nclass LanguageSelection {\n    constructor(onDidChangeLanguages, selector) {\n        this._value = observableFromEvent(this, onDidChangeLanguages, () => selector());\n        this.onDidChange = Event.fromObservable(this._value);\n    }\n    get languageId() {\n        return this._value.get();\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}