{"ast":null,"code":"import { watch, unref, getCurrentScope, onScopeDispose } from \"vue\";\nconst defaultWindow = typeof window !== \"undefined\" ? window : void 0;\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = unref(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction useMutationObserver(target, callback, options = {}) {\n  const {\n    window: window2 = defaultWindow,\n    ...mutationOptions\n  } = options;\n  const isSupported = window2 && \"MutationObserver\" in window2;\n  let observer;\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const stopWatch = watch(() => unrefElement(target), el => {\n    cleanup();\n    if (isSupported && window2 && el) {\n      observer = new MutationObserver(callback);\n      observer.observe(el, mutationOptions);\n    }\n  }, {\n    immediate: true\n  });\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\nexport { defaultWindow, tryOnScopeDispose, unrefElement, useMutationObserver };","map":{"version":3,"names":["watch","unref","getCurrentScope","onScopeDispose","defaultWindow","window","unrefElement","elRef","_a","plain","$el","tryOnScopeDispose","fn","useMutationObserver","target","callback","options","window2","mutationOptions","isSupported","observer","cleanup","disconnect","stopWatch","el","MutationObserver","observe","immediate","stop"],"sources":["P:/IDEA/JudgeX/judgex_front/node_modules/@arco-design/web-vue/es/watermark/hooks/use-mutation-observer.js"],"sourcesContent":["import { watch, unref, getCurrentScope, onScopeDispose } from \"vue\";\nconst defaultWindow = typeof window !== \"undefined\" ? window : void 0;\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = unref(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction useMutationObserver(target, callback, options = {}) {\n  const { window: window2 = defaultWindow, ...mutationOptions } = options;\n  const isSupported = window2 && \"MutationObserver\" in window2;\n  let observer;\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const stopWatch = watch(\n    () => unrefElement(target),\n    (el) => {\n      cleanup();\n      if (isSupported && window2 && el) {\n        observer = new MutationObserver(callback);\n        observer.observe(el, mutationOptions);\n      }\n    },\n    { immediate: true }\n  );\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\nexport { defaultWindow, tryOnScopeDispose, unrefElement, useMutationObserver };\n"],"mappings":"AAAA,SAASA,KAAK,EAAEC,KAAK,EAAEC,eAAe,EAAEC,cAAc,QAAQ,KAAK;AACnE,MAAMC,aAAa,GAAG,OAAOC,MAAM,KAAK,WAAW,GAAGA,MAAM,GAAG,KAAK,CAAC;AACrE,SAASC,YAAYA,CAACC,KAAK,EAAE;EAC3B,IAAIC,EAAE;EACN,MAAMC,KAAK,GAAGR,KAAK,CAACM,KAAK,CAAC;EAC1B,OAAO,CAACC,EAAE,GAAGC,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACC,GAAG,KAAK,IAAI,GAAGF,EAAE,GAAGC,KAAK;AACvE;AACA,SAASE,iBAAiBA,CAACC,EAAE,EAAE;EAC7B,IAAIV,eAAe,CAAC,CAAC,EAAE;IACrBC,cAAc,CAACS,EAAE,CAAC;IAClB,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd;AACA,SAASC,mBAAmBA,CAACC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EAC3D,MAAM;IAAEX,MAAM,EAAEY,OAAO,GAAGb,aAAa;IAAE,GAAGc;EAAgB,CAAC,GAAGF,OAAO;EACvE,MAAMG,WAAW,GAAGF,OAAO,IAAI,kBAAkB,IAAIA,OAAO;EAC5D,IAAIG,QAAQ;EACZ,MAAMC,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAID,QAAQ,EAAE;MACZA,QAAQ,CAACE,UAAU,CAAC,CAAC;MACrBF,QAAQ,GAAG,KAAK,CAAC;IACnB;EACF,CAAC;EACD,MAAMG,SAAS,GAAGvB,KAAK,CACrB,MAAMM,YAAY,CAACQ,MAAM,CAAC,EACzBU,EAAE,IAAK;IACNH,OAAO,CAAC,CAAC;IACT,IAAIF,WAAW,IAAIF,OAAO,IAAIO,EAAE,EAAE;MAChCJ,QAAQ,GAAG,IAAIK,gBAAgB,CAACV,QAAQ,CAAC;MACzCK,QAAQ,CAACM,OAAO,CAACF,EAAE,EAAEN,eAAe,CAAC;IACvC;EACF,CAAC,EACD;IAAES,SAAS,EAAE;EAAK,CACpB,CAAC;EACD,MAAMC,IAAI,GAAGA,CAAA,KAAM;IACjBP,OAAO,CAAC,CAAC;IACTE,SAAS,CAAC,CAAC;EACb,CAAC;EACDZ,iBAAiB,CAACiB,IAAI,CAAC;EACvB,OAAO;IACLT,WAAW;IACXS;EACF,CAAC;AACH;AACA,SAASxB,aAAa,EAAEO,iBAAiB,EAAEL,YAAY,EAAEO,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}