{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getColorPresentations, getColors } from './color.js';\nimport { ColorDetector } from './colorDetector.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { ColorPickerWidget } from './colorPickerWidget.js';\nimport { RenderedHoverParts } from '../../hover/browser/hoverTypes.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { Dimension } from '../../../../base/browser/dom.js';\nexport class ColorHover {\n  constructor(owner, range, model, provider) {\n    this.owner = owner;\n    this.range = range;\n    this.model = model;\n    this.provider = provider;\n    /**\n     * Force the hover to always be rendered at this specific range,\n     * even in the case of multiple hover parts.\n     */\n    this.forceShowAtRange = true;\n  }\n  isValidForHoverAnchor(anchor) {\n    return anchor.type === 1 /* HoverAnchorType.Range */ && this.range.startColumn <= anchor.range.startColumn && this.range.endColumn >= anchor.range.endColumn;\n  }\n}\nlet ColorHoverParticipant = class ColorHoverParticipant {\n  constructor(_editor, _themeService) {\n    this._editor = _editor;\n    this._themeService = _themeService;\n    this.hoverOrdinal = 2;\n  }\n  computeSync(_anchor, _lineDecorations) {\n    return [];\n  }\n  computeAsync(anchor, lineDecorations, token) {\n    return AsyncIterableObject.fromPromise(this._computeAsync(anchor, lineDecorations, token));\n  }\n  async _computeAsync(_anchor, lineDecorations, _token) {\n    if (!this._editor.hasModel()) {\n      return [];\n    }\n    const colorDetector = ColorDetector.get(this._editor);\n    if (!colorDetector) {\n      return [];\n    }\n    for (const d of lineDecorations) {\n      if (!colorDetector.isColorDecoration(d)) {\n        continue;\n      }\n      const colorData = colorDetector.getColorData(d.range.getStartPosition());\n      if (colorData) {\n        const colorHover = await _createColorHover(this, this._editor.getModel(), colorData.colorInfo, colorData.provider);\n        return [colorHover];\n      }\n    }\n    return [];\n  }\n  renderHoverParts(context, hoverParts) {\n    const renderedPart = renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n    if (!renderedPart) {\n      return new RenderedHoverParts([]);\n    }\n    this._colorPicker = renderedPart.colorPicker;\n    const renderedHoverPart = {\n      hoverPart: renderedPart.hoverPart,\n      hoverElement: this._colorPicker.domNode,\n      dispose() {\n        renderedPart.disposables.dispose();\n      }\n    };\n    return new RenderedHoverParts([renderedHoverPart]);\n  }\n  handleResize() {\n    this._colorPicker?.layout();\n  }\n  isColorPickerVisible() {\n    return !!this._colorPicker;\n  }\n};\nColorHoverParticipant = __decorate([__param(1, IThemeService)], ColorHoverParticipant);\nexport { ColorHoverParticipant };\nexport class StandaloneColorPickerHover {\n  constructor(owner, range, model, provider) {\n    this.owner = owner;\n    this.range = range;\n    this.model = model;\n    this.provider = provider;\n  }\n}\nlet StandaloneColorPickerParticipant = class StandaloneColorPickerParticipant {\n  constructor(_editor, _themeService) {\n    this._editor = _editor;\n    this._themeService = _themeService;\n    this._color = null;\n  }\n  async createColorHover(defaultColorInfo, defaultColorProvider, colorProviderRegistry) {\n    if (!this._editor.hasModel()) {\n      return null;\n    }\n    const colorDetector = ColorDetector.get(this._editor);\n    if (!colorDetector) {\n      return null;\n    }\n    const colors = await getColors(colorProviderRegistry, this._editor.getModel(), CancellationToken.None);\n    let foundColorInfo = null;\n    let foundColorProvider = null;\n    for (const colorData of colors) {\n      const colorInfo = colorData.colorInfo;\n      if (Range.containsRange(colorInfo.range, defaultColorInfo.range)) {\n        foundColorInfo = colorInfo;\n        foundColorProvider = colorData.provider;\n      }\n    }\n    const colorInfo = foundColorInfo ?? defaultColorInfo;\n    const colorProvider = foundColorProvider ?? defaultColorProvider;\n    const foundInEditor = !!foundColorInfo;\n    return {\n      colorHover: await _createColorHover(this, this._editor.getModel(), colorInfo, colorProvider),\n      foundInEditor: foundInEditor\n    };\n  }\n  async updateEditorModel(colorHoverData) {\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    const colorPickerModel = colorHoverData.model;\n    let range = new Range(colorHoverData.range.startLineNumber, colorHoverData.range.startColumn, colorHoverData.range.endLineNumber, colorHoverData.range.endColumn);\n    if (this._color) {\n      await _updateColorPresentations(this._editor.getModel(), colorPickerModel, this._color, range, colorHoverData);\n      range = _updateEditorModel(this._editor, range, colorPickerModel);\n    }\n  }\n  renderHoverParts(context, hoverParts) {\n    return renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n  }\n  set color(color) {\n    this._color = color;\n  }\n  get color() {\n    return this._color;\n  }\n};\nStandaloneColorPickerParticipant = __decorate([__param(1, IThemeService)], StandaloneColorPickerParticipant);\nexport { StandaloneColorPickerParticipant };\nasync function _createColorHover(participant, editorModel, colorInfo, provider) {\n  const originalText = editorModel.getValueInRange(colorInfo.range);\n  const {\n    red,\n    green,\n    blue,\n    alpha\n  } = colorInfo.color;\n  const rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n  const color = new Color(rgba);\n  const colorPresentations = await getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n  const model = new ColorPickerModel(color, [], 0);\n  model.colorPresentations = colorPresentations || [];\n  model.guessColorPresentation(color, originalText);\n  if (participant instanceof ColorHoverParticipant) {\n    return new ColorHover(participant, Range.lift(colorInfo.range), model, provider);\n  } else {\n    return new StandaloneColorPickerHover(participant, Range.lift(colorInfo.range), model, provider);\n  }\n}\nfunction renderHoverParts(participant, editor, themeService, hoverParts, context) {\n  if (hoverParts.length === 0 || !editor.hasModel()) {\n    return undefined;\n  }\n  if (context.setMinimumDimensions) {\n    const minimumHeight = editor.getOption(67 /* EditorOption.lineHeight */) + 8;\n    context.setMinimumDimensions(new Dimension(302, minimumHeight));\n  }\n  const disposables = new DisposableStore();\n  const colorHover = hoverParts[0];\n  const editorModel = editor.getModel();\n  const model = colorHover.model;\n  const colorPicker = disposables.add(new ColorPickerWidget(context.fragment, model, editor.getOption(144 /* EditorOption.pixelRatio */), themeService, participant instanceof StandaloneColorPickerParticipant));\n  let editorUpdatedByColorPicker = false;\n  let range = new Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);\n  if (participant instanceof StandaloneColorPickerParticipant) {\n    const color = colorHover.model.color;\n    participant.color = color;\n    _updateColorPresentations(editorModel, model, color, range, colorHover);\n    disposables.add(model.onColorFlushed(color => {\n      participant.color = color;\n    }));\n  } else {\n    disposables.add(model.onColorFlushed(async color => {\n      await _updateColorPresentations(editorModel, model, color, range, colorHover);\n      editorUpdatedByColorPicker = true;\n      range = _updateEditorModel(editor, range, model);\n    }));\n  }\n  disposables.add(model.onDidChangeColor(color => {\n    _updateColorPresentations(editorModel, model, color, range, colorHover);\n  }));\n  disposables.add(editor.onDidChangeModelContent(e => {\n    if (editorUpdatedByColorPicker) {\n      editorUpdatedByColorPicker = false;\n    } else {\n      context.hide();\n      editor.focus();\n    }\n  }));\n  return {\n    hoverPart: colorHover,\n    colorPicker,\n    disposables\n  };\n}\nfunction _updateEditorModel(editor, range, model) {\n  const textEdits = [];\n  const edit = model.presentation.textEdit ?? {\n    range,\n    text: model.presentation.label,\n    forceMoveMarkers: false\n  };\n  textEdits.push(edit);\n  if (model.presentation.additionalTextEdits) {\n    textEdits.push(...model.presentation.additionalTextEdits);\n  }\n  const replaceRange = Range.lift(edit.range);\n  const trackedRange = editor.getModel()._setTrackedRange(null, replaceRange, 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */);\n  editor.executeEdits('colorpicker', textEdits);\n  editor.pushUndoStop();\n  return editor.getModel()._getTrackedRange(trackedRange) ?? replaceRange;\n}\nasync function _updateColorPresentations(editorModel, colorPickerModel, color, range, colorHover) {\n  const colorPresentations = await getColorPresentations(editorModel, {\n    range: range,\n    color: {\n      red: color.rgba.r / 255,\n      green: color.rgba.g / 255,\n      blue: color.rgba.b / 255,\n      alpha: color.rgba.a\n    }\n  }, colorHover.provider, CancellationToken.None);\n  colorPickerModel.colorPresentations = colorPresentations || [];\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","AsyncIterableObject","CancellationToken","Color","RGBA","DisposableStore","Range","getColorPresentations","getColors","ColorDetector","ColorPickerModel","ColorPickerWidget","RenderedHoverParts","IThemeService","Dimension","ColorHover","constructor","owner","range","model","provider","forceShowAtRange","isValidForHoverAnchor","anchor","type","startColumn","endColumn","ColorHoverParticipant","_editor","_themeService","hoverOrdinal","computeSync","_anchor","_lineDecorations","computeAsync","lineDecorations","token","fromPromise","_computeAsync","_token","hasModel","colorDetector","get","isColorDecoration","colorData","getColorData","getStartPosition","colorHover","_createColorHover","getModel","colorInfo","renderHoverParts","context","hoverParts","renderedPart","_colorPicker","colorPicker","renderedHoverPart","hoverPart","hoverElement","domNode","dispose","disposables","handleResize","layout","isColorPickerVisible","StandaloneColorPickerHover","StandaloneColorPickerParticipant","_color","createColorHover","defaultColorInfo","defaultColorProvider","colorProviderRegistry","colors","None","foundColorInfo","foundColorProvider","containsRange","colorProvider","foundInEditor","updateEditorModel","colorHoverData","colorPickerModel","startLineNumber","endLineNumber","_updateColorPresentations","_updateEditorModel","color","participant","editorModel","originalText","getValueInRange","red","green","blue","alpha","rgba","Math","round","colorPresentations","guessColorPresentation","lift","editor","themeService","undefined","setMinimumDimensions","minimumHeight","getOption","add","fragment","editorUpdatedByColorPicker","onColorFlushed","onDidChangeColor","onDidChangeModelContent","e","hide","focus","textEdits","edit","presentation","textEdit","text","label","forceMoveMarkers","push","additionalTextEdits","replaceRange","trackedRange","_setTrackedRange","executeEdits","pushUndoStop","_getTrackedRange","g","b","a"],"sources":["P:/IDEA/JudgeX/JudgeX_front/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorHoverParticipant.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getColorPresentations, getColors } from './color.js';\nimport { ColorDetector } from './colorDetector.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { ColorPickerWidget } from './colorPickerWidget.js';\nimport { RenderedHoverParts } from '../../hover/browser/hoverTypes.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { Dimension } from '../../../../base/browser/dom.js';\nexport class ColorHover {\n    constructor(owner, range, model, provider) {\n        this.owner = owner;\n        this.range = range;\n        this.model = model;\n        this.provider = provider;\n        /**\n         * Force the hover to always be rendered at this specific range,\n         * even in the case of multiple hover parts.\n         */\n        this.forceShowAtRange = true;\n    }\n    isValidForHoverAnchor(anchor) {\n        return (anchor.type === 1 /* HoverAnchorType.Range */\n            && this.range.startColumn <= anchor.range.startColumn\n            && this.range.endColumn >= anchor.range.endColumn);\n    }\n}\nlet ColorHoverParticipant = class ColorHoverParticipant {\n    constructor(_editor, _themeService) {\n        this._editor = _editor;\n        this._themeService = _themeService;\n        this.hoverOrdinal = 2;\n    }\n    computeSync(_anchor, _lineDecorations) {\n        return [];\n    }\n    computeAsync(anchor, lineDecorations, token) {\n        return AsyncIterableObject.fromPromise(this._computeAsync(anchor, lineDecorations, token));\n    }\n    async _computeAsync(_anchor, lineDecorations, _token) {\n        if (!this._editor.hasModel()) {\n            return [];\n        }\n        const colorDetector = ColorDetector.get(this._editor);\n        if (!colorDetector) {\n            return [];\n        }\n        for (const d of lineDecorations) {\n            if (!colorDetector.isColorDecoration(d)) {\n                continue;\n            }\n            const colorData = colorDetector.getColorData(d.range.getStartPosition());\n            if (colorData) {\n                const colorHover = await _createColorHover(this, this._editor.getModel(), colorData.colorInfo, colorData.provider);\n                return [colorHover];\n            }\n        }\n        return [];\n    }\n    renderHoverParts(context, hoverParts) {\n        const renderedPart = renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n        if (!renderedPart) {\n            return new RenderedHoverParts([]);\n        }\n        this._colorPicker = renderedPart.colorPicker;\n        const renderedHoverPart = {\n            hoverPart: renderedPart.hoverPart,\n            hoverElement: this._colorPicker.domNode,\n            dispose() { renderedPart.disposables.dispose(); }\n        };\n        return new RenderedHoverParts([renderedHoverPart]);\n    }\n    handleResize() {\n        this._colorPicker?.layout();\n    }\n    isColorPickerVisible() {\n        return !!this._colorPicker;\n    }\n};\nColorHoverParticipant = __decorate([\n    __param(1, IThemeService)\n], ColorHoverParticipant);\nexport { ColorHoverParticipant };\nexport class StandaloneColorPickerHover {\n    constructor(owner, range, model, provider) {\n        this.owner = owner;\n        this.range = range;\n        this.model = model;\n        this.provider = provider;\n    }\n}\nlet StandaloneColorPickerParticipant = class StandaloneColorPickerParticipant {\n    constructor(_editor, _themeService) {\n        this._editor = _editor;\n        this._themeService = _themeService;\n        this._color = null;\n    }\n    async createColorHover(defaultColorInfo, defaultColorProvider, colorProviderRegistry) {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const colorDetector = ColorDetector.get(this._editor);\n        if (!colorDetector) {\n            return null;\n        }\n        const colors = await getColors(colorProviderRegistry, this._editor.getModel(), CancellationToken.None);\n        let foundColorInfo = null;\n        let foundColorProvider = null;\n        for (const colorData of colors) {\n            const colorInfo = colorData.colorInfo;\n            if (Range.containsRange(colorInfo.range, defaultColorInfo.range)) {\n                foundColorInfo = colorInfo;\n                foundColorProvider = colorData.provider;\n            }\n        }\n        const colorInfo = foundColorInfo ?? defaultColorInfo;\n        const colorProvider = foundColorProvider ?? defaultColorProvider;\n        const foundInEditor = !!foundColorInfo;\n        return { colorHover: await _createColorHover(this, this._editor.getModel(), colorInfo, colorProvider), foundInEditor: foundInEditor };\n    }\n    async updateEditorModel(colorHoverData) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const colorPickerModel = colorHoverData.model;\n        let range = new Range(colorHoverData.range.startLineNumber, colorHoverData.range.startColumn, colorHoverData.range.endLineNumber, colorHoverData.range.endColumn);\n        if (this._color) {\n            await _updateColorPresentations(this._editor.getModel(), colorPickerModel, this._color, range, colorHoverData);\n            range = _updateEditorModel(this._editor, range, colorPickerModel);\n        }\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n    }\n    set color(color) {\n        this._color = color;\n    }\n    get color() {\n        return this._color;\n    }\n};\nStandaloneColorPickerParticipant = __decorate([\n    __param(1, IThemeService)\n], StandaloneColorPickerParticipant);\nexport { StandaloneColorPickerParticipant };\nasync function _createColorHover(participant, editorModel, colorInfo, provider) {\n    const originalText = editorModel.getValueInRange(colorInfo.range);\n    const { red, green, blue, alpha } = colorInfo.color;\n    const rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n    const color = new Color(rgba);\n    const colorPresentations = await getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n    const model = new ColorPickerModel(color, [], 0);\n    model.colorPresentations = colorPresentations || [];\n    model.guessColorPresentation(color, originalText);\n    if (participant instanceof ColorHoverParticipant) {\n        return new ColorHover(participant, Range.lift(colorInfo.range), model, provider);\n    }\n    else {\n        return new StandaloneColorPickerHover(participant, Range.lift(colorInfo.range), model, provider);\n    }\n}\nfunction renderHoverParts(participant, editor, themeService, hoverParts, context) {\n    if (hoverParts.length === 0 || !editor.hasModel()) {\n        return undefined;\n    }\n    if (context.setMinimumDimensions) {\n        const minimumHeight = editor.getOption(67 /* EditorOption.lineHeight */) + 8;\n        context.setMinimumDimensions(new Dimension(302, minimumHeight));\n    }\n    const disposables = new DisposableStore();\n    const colorHover = hoverParts[0];\n    const editorModel = editor.getModel();\n    const model = colorHover.model;\n    const colorPicker = disposables.add(new ColorPickerWidget(context.fragment, model, editor.getOption(144 /* EditorOption.pixelRatio */), themeService, participant instanceof StandaloneColorPickerParticipant));\n    let editorUpdatedByColorPicker = false;\n    let range = new Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);\n    if (participant instanceof StandaloneColorPickerParticipant) {\n        const color = colorHover.model.color;\n        participant.color = color;\n        _updateColorPresentations(editorModel, model, color, range, colorHover);\n        disposables.add(model.onColorFlushed((color) => {\n            participant.color = color;\n        }));\n    }\n    else {\n        disposables.add(model.onColorFlushed(async (color) => {\n            await _updateColorPresentations(editorModel, model, color, range, colorHover);\n            editorUpdatedByColorPicker = true;\n            range = _updateEditorModel(editor, range, model);\n        }));\n    }\n    disposables.add(model.onDidChangeColor((color) => {\n        _updateColorPresentations(editorModel, model, color, range, colorHover);\n    }));\n    disposables.add(editor.onDidChangeModelContent((e) => {\n        if (editorUpdatedByColorPicker) {\n            editorUpdatedByColorPicker = false;\n        }\n        else {\n            context.hide();\n            editor.focus();\n        }\n    }));\n    return { hoverPart: colorHover, colorPicker, disposables };\n}\nfunction _updateEditorModel(editor, range, model) {\n    const textEdits = [];\n    const edit = model.presentation.textEdit ?? { range, text: model.presentation.label, forceMoveMarkers: false };\n    textEdits.push(edit);\n    if (model.presentation.additionalTextEdits) {\n        textEdits.push(...model.presentation.additionalTextEdits);\n    }\n    const replaceRange = Range.lift(edit.range);\n    const trackedRange = editor.getModel()._setTrackedRange(null, replaceRange, 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */);\n    editor.executeEdits('colorpicker', textEdits);\n    editor.pushUndoStop();\n    return editor.getModel()._getTrackedRange(trackedRange) ?? replaceRange;\n}\nasync function _updateColorPresentations(editorModel, colorPickerModel, color, range, colorHover) {\n    const colorPresentations = await getColorPresentations(editorModel, {\n        range: range,\n        color: {\n            red: color.rgba.r / 255,\n            green: color.rgba.g / 255,\n            blue: color.rgba.b / 255,\n            alpha: color.rgba.a\n        }\n    }, colorHover.provider, CancellationToken.None);\n    colorPickerModel.colorPresentations = colorPresentations || [];\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}