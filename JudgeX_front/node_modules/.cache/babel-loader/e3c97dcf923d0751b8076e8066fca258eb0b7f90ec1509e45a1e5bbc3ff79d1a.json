{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SimpleWorkerServer } from '../base/common/worker/simpleWorker.js';\nimport { EditorSimpleWorker } from './common/services/editorSimpleWorker.js';\nimport { EditorWorkerHost } from './common/services/editorWorkerHost.js';\nlet initialized = false;\nexport function initialize(foreignModule) {\n  if (initialized) {\n    return;\n  }\n  initialized = true;\n  const simpleWorker = new SimpleWorkerServer(msg => {\n    globalThis.postMessage(msg);\n  }, workerServer => new EditorSimpleWorker(EditorWorkerHost.getChannel(workerServer), foreignModule));\n  globalThis.onmessage = e => {\n    simpleWorker.onmessage(e.data);\n  };\n}\nglobalThis.onmessage = e => {\n  // Ignore first message in this case and initialize if not yet initialized\n  if (!initialized) {\n    initialize(null);\n  }\n};","map":{"version":3,"names":["SimpleWorkerServer","EditorSimpleWorker","EditorWorkerHost","initialized","initialize","foreignModule","simpleWorker","msg","globalThis","postMessage","workerServer","getChannel","onmessage","e","data"],"sources":["P:/WebStorm/judgex_front/node_modules/monaco-editor/esm/vs/editor/editor.worker.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SimpleWorkerServer } from '../base/common/worker/simpleWorker.js';\nimport { EditorSimpleWorker } from './common/services/editorSimpleWorker.js';\nimport { EditorWorkerHost } from './common/services/editorWorkerHost.js';\nlet initialized = false;\nexport function initialize(foreignModule) {\n    if (initialized) {\n        return;\n    }\n    initialized = true;\n    const simpleWorker = new SimpleWorkerServer((msg) => {\n        globalThis.postMessage(msg);\n    }, (workerServer) => new EditorSimpleWorker(EditorWorkerHost.getChannel(workerServer), foreignModule));\n    globalThis.onmessage = (e) => {\n        simpleWorker.onmessage(e.data);\n    };\n}\nglobalThis.onmessage = (e) => {\n    // Ignore first message in this case and initialize if not yet initialized\n    if (!initialized) {\n        initialize(null);\n    }\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,kBAAkB,QAAQ,uCAAuC;AAC1E,SAASC,kBAAkB,QAAQ,yCAAyC;AAC5E,SAASC,gBAAgB,QAAQ,uCAAuC;AACxE,IAAIC,WAAW,GAAG,KAAK;AACvB,OAAO,SAASC,UAAUA,CAACC,aAAa,EAAE;EACtC,IAAIF,WAAW,EAAE;IACb;EACJ;EACAA,WAAW,GAAG,IAAI;EAClB,MAAMG,YAAY,GAAG,IAAIN,kBAAkB,CAAEO,GAAG,IAAK;IACjDC,UAAU,CAACC,WAAW,CAACF,GAAG,CAAC;EAC/B,CAAC,EAAGG,YAAY,IAAK,IAAIT,kBAAkB,CAACC,gBAAgB,CAACS,UAAU,CAACD,YAAY,CAAC,EAAEL,aAAa,CAAC,CAAC;EACtGG,UAAU,CAACI,SAAS,GAAIC,CAAC,IAAK;IAC1BP,YAAY,CAACM,SAAS,CAACC,CAAC,CAACC,IAAI,CAAC;EAClC,CAAC;AACL;AACAN,UAAU,CAACI,SAAS,GAAIC,CAAC,IAAK;EAC1B;EACA,IAAI,CAACV,WAAW,EAAE;IACdC,UAAU,CAAC,IAAI,CAAC;EACpB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}