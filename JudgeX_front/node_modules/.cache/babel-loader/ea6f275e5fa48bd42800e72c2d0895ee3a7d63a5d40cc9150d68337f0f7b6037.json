{"ast":null,"code":"var _SortLinesCommand;\nimport \"core-js/modules/es.array.push.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nexport class SortLinesCommand {\n  static getCollator() {\n    if (!SortLinesCommand._COLLATOR) {\n      SortLinesCommand._COLLATOR = new Intl.Collator();\n    }\n    return SortLinesCommand._COLLATOR;\n  }\n  constructor(selection, descending) {\n    this.selection = selection;\n    this.descending = descending;\n    this.selectionId = null;\n  }\n  getEditOperations(model, builder) {\n    const op = sortLines(model, this.selection, this.descending);\n    if (op) {\n      builder.addEditOperation(op.range, op.text);\n    }\n    this.selectionId = builder.trackSelection(this.selection);\n  }\n  computeCursorState(model, helper) {\n    return helper.getTrackedSelection(this.selectionId);\n  }\n  static canRun(model, selection, descending) {\n    if (model === null) {\n      return false;\n    }\n    const data = getSortData(model, selection, descending);\n    if (!data) {\n      return false;\n    }\n    for (let i = 0, len = data.before.length; i < len; i++) {\n      if (data.before[i] !== data.after[i]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n_SortLinesCommand = SortLinesCommand;\n_SortLinesCommand._COLLATOR = null;\nfunction getSortData(model, selection, descending) {\n  const startLineNumber = selection.startLineNumber;\n  let endLineNumber = selection.endLineNumber;\n  if (selection.endColumn === 1) {\n    endLineNumber--;\n  }\n  // Nothing to sort if user didn't select anything.\n  if (startLineNumber >= endLineNumber) {\n    return null;\n  }\n  const linesToSort = [];\n  // Get the contents of the selection to be sorted.\n  for (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n    linesToSort.push(model.getLineContent(lineNumber));\n  }\n  let sorted = linesToSort.slice(0);\n  sorted.sort(SortLinesCommand.getCollator().compare);\n  // If descending, reverse the order.\n  if (descending === true) {\n    sorted = sorted.reverse();\n  }\n  return {\n    startLineNumber: startLineNumber,\n    endLineNumber: endLineNumber,\n    before: linesToSort,\n    after: sorted\n  };\n}\n/**\n * Generate commands for sorting lines on a model.\n */\nfunction sortLines(model, selection, descending) {\n  const data = getSortData(model, selection, descending);\n  if (!data) {\n    return null;\n  }\n  return EditOperation.replace(new Range(data.startLineNumber, 1, data.endLineNumber, model.getLineMaxColumn(data.endLineNumber)), data.after.join('\\n'));\n}","map":{"version":3,"names":["EditOperation","Range","SortLinesCommand","getCollator","_COLLATOR","Intl","Collator","constructor","selection","descending","selectionId","getEditOperations","model","builder","op","sortLines","addEditOperation","range","text","trackSelection","computeCursorState","helper","getTrackedSelection","canRun","data","getSortData","i","len","before","length","after","_SortLinesCommand","startLineNumber","endLineNumber","endColumn","linesToSort","lineNumber","push","getLineContent","sorted","slice","sort","compare","reverse","replace","getLineMaxColumn","join"],"sources":["P:/WebStorm/judgex_front/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/browser/sortLinesCommand.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nexport class SortLinesCommand {\n    static { this._COLLATOR = null; }\n    static getCollator() {\n        if (!SortLinesCommand._COLLATOR) {\n            SortLinesCommand._COLLATOR = new Intl.Collator();\n        }\n        return SortLinesCommand._COLLATOR;\n    }\n    constructor(selection, descending) {\n        this.selection = selection;\n        this.descending = descending;\n        this.selectionId = null;\n    }\n    getEditOperations(model, builder) {\n        const op = sortLines(model, this.selection, this.descending);\n        if (op) {\n            builder.addEditOperation(op.range, op.text);\n        }\n        this.selectionId = builder.trackSelection(this.selection);\n    }\n    computeCursorState(model, helper) {\n        return helper.getTrackedSelection(this.selectionId);\n    }\n    static canRun(model, selection, descending) {\n        if (model === null) {\n            return false;\n        }\n        const data = getSortData(model, selection, descending);\n        if (!data) {\n            return false;\n        }\n        for (let i = 0, len = data.before.length; i < len; i++) {\n            if (data.before[i] !== data.after[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nfunction getSortData(model, selection, descending) {\n    const startLineNumber = selection.startLineNumber;\n    let endLineNumber = selection.endLineNumber;\n    if (selection.endColumn === 1) {\n        endLineNumber--;\n    }\n    // Nothing to sort if user didn't select anything.\n    if (startLineNumber >= endLineNumber) {\n        return null;\n    }\n    const linesToSort = [];\n    // Get the contents of the selection to be sorted.\n    for (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n        linesToSort.push(model.getLineContent(lineNumber));\n    }\n    let sorted = linesToSort.slice(0);\n    sorted.sort(SortLinesCommand.getCollator().compare);\n    // If descending, reverse the order.\n    if (descending === true) {\n        sorted = sorted.reverse();\n    }\n    return {\n        startLineNumber: startLineNumber,\n        endLineNumber: endLineNumber,\n        before: linesToSort,\n        after: sorted\n    };\n}\n/**\n * Generate commands for sorting lines on a model.\n */\nfunction sortLines(model, selection, descending) {\n    const data = getSortData(model, selection, descending);\n    if (!data) {\n        return null;\n    }\n    return EditOperation.replace(new Range(data.startLineNumber, 1, data.endLineNumber, model.getLineMaxColumn(data.endLineNumber)), data.after.join('\\n'));\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}