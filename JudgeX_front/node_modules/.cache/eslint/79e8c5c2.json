[{"P:\\WebStorm\\judgex_front\\src\\main.ts":"1","P:\\WebStorm\\judgex_front\\src\\App.vue":"2","P:\\WebStorm\\judgex_front\\src\\router\\index.ts":"3","P:\\WebStorm\\judgex_front\\src\\store\\index.ts":"4","P:\\WebStorm\\judgex_front\\src\\views\\HomeView.vue":"5","P:\\WebStorm\\judgex_front\\src\\views\\AboutView.vue":"6","P:\\WebStorm\\judgex_front\\src\\components\\HelloWorld.vue":"7","P:\\WebStorm\\judgex_front\\src\\layouts\\BasicLayout.vue":"8","P:\\WebStorm\\judgex_front\\src\\components\\GlobalHeader.vue":"9","P:\\WebStorm\\judgex_front\\src\\router\\routes.ts":"10","P:\\WebStorm\\judgex_front\\src\\store\\user.ts":"11","P:\\WebStorm\\judgex_front\\src\\views\\AdminView.vue":"12","P:\\WebStorm\\judgex_front\\src\\views\\NoAuthView.vue":"13","P:\\WebStorm\\judgex_front\\src\\access\\ACCESS_ENUM.ts":"14","P:\\WebStorm\\judgex_front\\src\\access\\checkAccess.ts":"15"},{"size":279,"mtime":1753379128040,"results":"16","hashOfConfig":"17"},{"size":825,"mtime":1754243028801,"results":"18","hashOfConfig":"17"},{"size":285,"mtime":1754154854928,"results":"19","hashOfConfig":"17"},{"size":227,"mtime":1754204889580,"results":"20","hashOfConfig":"17"},{"size":412,"mtime":1754154038196,"results":"21","hashOfConfig":"17"},{"size":89,"mtime":1753375141580,"results":"22","hashOfConfig":"17"},{"size":3239,"mtime":1753453649061,"results":"23","hashOfConfig":"17"},{"size":911,"mtime":1754233799299,"results":"24","hashOfConfig":"17"},{"size":2106,"mtime":1754237376202,"results":"25","hashOfConfig":"17"},{"size":1007,"mtime":1754236539211,"results":"26","hashOfConfig":"17"},{"size":687,"mtime":1754238121215,"results":"27","hashOfConfig":"17"},{"size":432,"mtime":1754219270794,"results":"28","hashOfConfig":"17"},{"size":90,"mtime":1754219947088,"results":"29","hashOfConfig":"17"},{"size":137,"mtime":1754236539223,"results":"30","hashOfConfig":"17"},{"size":996,"mtime":1754236539217,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1ilj9ly",{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"34"},"P:\\WebStorm\\judgex_front\\src\\main.ts",[],[],"P:\\WebStorm\\judgex_front\\src\\App.vue",["68"],"P:\\WebStorm\\judgex_front\\src\\router\\index.ts",["69","70"],"import { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\nimport HomeView from \"../views/HomeView.vue\";\nimport { routes } from \"@/router/routes\";\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","P:\\WebStorm\\judgex_front\\src\\store\\index.ts",[],"P:\\WebStorm\\judgex_front\\src\\views\\HomeView.vue",[],[],"P:\\WebStorm\\judgex_front\\src\\views\\AboutView.vue",[],"P:\\WebStorm\\judgex_front\\src\\components\\HelloWorld.vue",[],"P:\\WebStorm\\judgex_front\\src\\layouts\\BasicLayout.vue",[],"P:\\WebStorm\\judgex_front\\src\\components\\GlobalHeader.vue",["71","72","73","74","75"],"<template>\n  <a-row id=\"globalHeader\" align=\"center\" :wrap=\"false\">\n    <a-col flex=\"auto\">\n      <a-menu\n        mode=\"horizontal\"\n        :selected-keys=\"selectedKeys\"\n        @menu-item-click=\"doMenuClick\"\n      >\n        <a-menu-item\n          key=\"0\"\n          :style=\"{ padding: 0, marginRight: '38px' }\"\n          disabled\n        >\n          <div class=\"title-bar\">\n            <img class=\"logo\" src=\"../assets/oj-logo.svg\" alt=\"\" />\n            <div class=\"title\">鱼OJ</div>\n          </div>\n        </a-menu-item>\n        <a-menu-item v-for=\"item in visibleRoutes\" :key=\"item.path\"\n          >{{ item.name }}\n        </a-menu-item>\n      </a-menu>\n    </a-col>\n    <a-col flex=\"100px\">\n      <div>{{ store.state.user?.loginUser?.userName ?? \"未登录\" }}</div>\n    </a-col>\n  </a-row>\n</template>\n<script setup lang=\"ts\">\nimport { routes } from \"@/router/routes\";\nimport { computed, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport checkAccess from \"@/access/checkAccess\";\nimport ACCESS_ENUM from \"@/access/ACCESS_ENUM\";\nimport user from \"@/store/user\";\n\nconst router = useRouter();\nconst store = useStore();\n\n// 展示在菜单的路由数组\nconst visibleRoutes = computed(() => {\n  return routes.filter((item, index) => {\n    if (item.meta?.hideInMenu) {\n      return false;\n    }\n    // 根据权限过滤菜单\n    if (\n      !checkAccess(store.state.user.loginUser, item?.meta?.access as string)\n    ) {\n      return false;\n    }\n    return true;\n  });\n});\n\n// 默认主页\nconst selectedKeys = ref([\"/\"]);\n\n// 路由跳转时，更新选中的菜单项\nrouter.afterEach((to, from, failure) => {\n  selectedKeys.value = [to.path];\n});\n\nconsole.log();\n\nsetTimeout(() => {\n  store.dispatch(\"user/getLoginUser\", {\n    userName: \"鱼皮管理员\",\n    userRole: ACCESS_ENUM.ADMIN,\n  });\n}, 3000);\n\nconst doMenuClick = (key: string) => {\n  router.push({ path: key });\n};\n</script>\n<style scoped>\n.logo {\n  height: 48px;\n}\n\n.title-bar {\n  display: flex;\n  align-items: center;\n}\n\n.title {\n  color: #444;\n  margin-left: 16px;\n}\n</style>\n","P:\\WebStorm\\judgex_front\\src\\router\\routes.ts",[],"P:\\WebStorm\\judgex_front\\src\\store\\user.ts",["76","77"],"// 存储的状态信息，比如用户信息\nimport { StoreOptions } from \"vuex\";\nimport ACCESS_ENUM from \"@/access/ACCESS_ENUM\";\n\nexport default {\n  namespaced: true,\n  state: () => ({\n    loginUser: {\n      userName: \"未登录\",\n      userRole: ACCESS_ENUM.NOT_LOGIN,\n    },\n  }),\n  // 执行异步操作，并触发mutation的更改（actions调用mutation）\n  actions: {\n    getLoginUser({ commit, state }, payload) {\n      // todo 改为远程请求获取登录信息\n      commit(\"updateUser\", payload);\n    },\n  },\n  // 定于了对变量进行更新的方法\n  mutations: {\n    updateUser(state, payload) {\n      state.loginUser = payload;\n    },\n  },\n} as StoreOptions<any>;\n","P:\\WebStorm\\judgex_front\\src\\views\\AdminView.vue",[],"P:\\WebStorm\\judgex_front\\src\\views\\NoAuthView.vue",[],"P:\\WebStorm\\judgex_front\\src\\access\\ACCESS_ENUM.ts",[],"P:\\WebStorm\\judgex_front\\src\\access\\checkAccess.ts",["78"],"import ACCESS_ENUM from \"@/access/ACCESS_ENUM\";\n\n/**\n * 检查权限（判断当前登录用户是否具有某个权限）\n * @param loginUser 当前登录的用户\n * @param needAccess\n * @return boolean 有无权限\n */\nconst checkAccess = (loginUser: any, needAccess = ACCESS_ENUM.NOT_LOGIN) => {\n  // 获取当前用户具有的权限（如果没有loginUser，则表示未登录）\n  const loginUserAccess = loginUser?.userRole ?? ACCESS_ENUM.NOT_LOGIN;\n  if (needAccess === ACCESS_ENUM.NOT_LOGIN) {\n    return true;\n  }\n  // 如果用户登录才能访问\n  if (needAccess === ACCESS_ENUM.USER) {\n    // 如果用户没有登录，那么表示没有权限\n    if (loginUserAccess === ACCESS_ENUM.NOT_LOGIN) {\n      return false;\n    }\n  }\n\n  // 如果需要管理员权限\n  if (needAccess === ACCESS_ENUM.ADMIN) {\n    // 如果不是管理员， 表示无权限\n    if (loginUserAccess !== ACCESS_ENUM.ADMIN) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexport default checkAccess;\n",{"ruleId":"79","severity":1,"message":"80","line":32,"column":5,"nodeType":"81","messageId":"82","endLine":32,"endColumn":15},{"ruleId":"79","severity":1,"message":"83","line":1,"column":42,"nodeType":"81","messageId":"82","endLine":1,"endColumn":56},{"ruleId":"79","severity":1,"message":"84","line":2,"column":8,"nodeType":"81","messageId":"82","endLine":2,"endColumn":16},{"ruleId":"79","severity":1,"message":"85","line":32,"column":10,"nodeType":"81","messageId":"82","endLine":32,"endColumn":18},{"ruleId":"79","severity":1,"message":"86","line":36,"column":8,"nodeType":"81","messageId":"82","endLine":36,"endColumn":12},{"ruleId":"79","severity":1,"message":"87","line":43,"column":31,"nodeType":"81","messageId":"82","endLine":43,"endColumn":36},{"ruleId":"79","severity":1,"message":"88","line":61,"column":23,"nodeType":"81","messageId":"82","endLine":61,"endColumn":27},{"ruleId":"79","severity":1,"message":"89","line":61,"column":29,"nodeType":"81","messageId":"82","endLine":61,"endColumn":36},{"ruleId":"79","severity":1,"message":"90","line":15,"column":28,"nodeType":"81","messageId":"82","endLine":15,"endColumn":33},{"ruleId":"91","severity":1,"message":"92","line":26,"column":19,"nodeType":"93","messageId":"94","endLine":26,"endColumn":22,"suggestions":"95"},{"ruleId":"91","severity":1,"message":"92","line":9,"column":33,"nodeType":"93","messageId":"94","endLine":9,"endColumn":36,"suggestions":"96"},"@typescript-eslint/no-unused-vars","'beforeEach' is assigned a value but never used.","Identifier","unusedVar","'RouteRecordRaw' is defined but never used.","'HomeView' is defined but never used.","'useRoute' is defined but never used.","'user' is defined but never used.","'index' is defined but never used.","'from' is defined but never used.","'failure' is defined but never used.","'state' is defined but never used.","@typescript-eslint/no-explicit-any","Unexpected any. Specify a different type.","TSAnyKeyword","unexpectedAny",["97","98"],["99","100"],{"messageId":"101","fix":"102","desc":"103"},{"messageId":"104","fix":"105","desc":"106"},{"messageId":"101","fix":"107","desc":"103"},{"messageId":"104","fix":"108","desc":"106"},"suggestUnknown",{"range":"109","text":"110"},"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct.","suggestNever",{"range":"109","text":"111"},"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of.",{"range":"112","text":"110"},{"range":"112","text":"111"},[563,566],"unknown","never",[188,191]]